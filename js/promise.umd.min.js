!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.ES6Promise=n()}(this,function(){"use strict";function t(t,n){return n={exports:{}},t(n,n.exports),n.exports}var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=t(function(t){var n=t.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),o=t(function(t){!function(n){function e(){}function o(t,n){return function(){t.apply(n,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,r._immediateFn(function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var o;try{o=e(t._value)}catch(t){return void u(n.promise,t)}f(n.promise,o)}else(1===t._state?f:u)(n.promise,t._value)})):t._deferreds.push(n)}function f(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof r)return t._state=3,t._value=n,void c(t);if("function"==typeof e)return void s(o(e,n),t)}t._state=1,t._value=n,c(t)}catch(n){u(t,n)}}function u(t,n){t._state=2,t._value=n,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var n=0,e=t._deferreds.length;n<e;n++)i(t,t._deferreds[n]);t._deferreds=null}function l(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function s(t,n){var e=!1;try{t(function(t){e||(e=!0,f(n,t))},function(t){e||(e=!0,u(n,t))})}catch(t){if(e)return;e=!0,u(n,t)}}var a=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,n){var o=new this.constructor(e);return i(this,new l(t,n,o)),o},r.all=function(t){var n=Array.prototype.slice.call(t);return new r(function(t,e){function o(i,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(t){o(i,t)},e)}n[i]=f,0==--r&&t(n)}catch(t){e(t)}}if(0===n.length)return t([]);for(var r=n.length,i=0;i<n.length;i++)o(i,n[i])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(n){n(t)})},r.reject=function(t){return new r(function(n,e){e(t)})},r.race=function(t){return new r(function(n,e){for(var o=0,r=t.length;o<r;o++)t[o].then(n,e)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},t.exports?t.exports=r:n.Promise||(n.Promise=r)}(n)}),r=e.Promise,i=e.process,f="[object process]"==={}.toString.call(i),u=function(){var t=0,n=Math.random();return function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}}(),c=function(){var t={},n="function"==typeof Symbol;return function(e){return t[e]||(t[e]=n&&Symbol[e]||(n?Symbol:u)("Symbol."+e))}}(),l=function(){};!!function(){try{var t=r.resolve(1),n=(t.constructor={})[c("species")]=function(t){t(l,l)};return(f||"function"==typeof PromiseRejectionEvent)&&t.then(l)instanceof n}catch(t){}}()||(r=e.Promise=o);var s=r;"function"!=typeof s.try&&(s.try={try:function(t){if("function"!=typeof this)throw new TypeError("Receiver must be a constructor");return new this(function(n){n(t())})}}.try);var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){this.value=t}function n(n){function e(r,i){try{var f=n[r](i),u=f.value;u instanceof t?Promise.resolve(u.value).then(function(t){e("next",t)},function(t){e("throw",t)}):o(f.done?"return":"normal",f.value)}catch(t){o("throw",t)}}function o(t,n){switch(t){case"return":r.resolve({value:n,done:!0});break;case"throw":r.reject(n);break;default:r.resolve({value:n,done:!1})}(r=r.next)?e(r.key,r.arg):i=null}var r,i;this._invoke=function(t,n){return new Promise(function(o,f){var u={key:t,arg:n,resolve:o,reject:f,next:null};i?i=i.next=u:(r=i=u,e(t,n))})},"function"!=typeof n.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)}}();if("function"!=typeof s.prototype.finally){var y=function(t,n){if(!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t)throw new TypeError("Assertion failed: Type(O) is not Object");var e=t.constructor;if(void 0===e)return n;if(!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e)throw new TypeError("O.constructor is not an Object");var o="function"==typeof Symbol&&"symbol"===a(Symbol.species)?e[Symbol.species]:void 0;if(null==o)return n;if("function"==typeof o&&o.prototype)return o;throw new TypeError("no constructor found")},p={finally:function(t){var n,e="function"==typeof t?t:function(){},o=s.prototype.then.call(this,function(t){return new n(function(t){return t(e())}).then(function(){return t})},function(t){return new n(function(t){return t(e())}).then(function(){throw t})});return n=y(this,s),o}};Object.defineProperty(s.prototype,"finally",{configurable:!0,writable:!0,value:p.finally})}return s.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var e=null;try{e=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===e&&!n.cast)return}t.Promise=s},s.Promise=s,s});